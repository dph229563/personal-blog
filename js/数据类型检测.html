<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>数据类型检测</title>
  </head>
  <body>
    <script>
      // 1. typeof
      console.log(typeof 2); // number
      console.log(typeof true); // boolean
      console.log(typeof "str"); // string
      console.log(typeof []); // object
      console.log(typeof function () {}); // function
      console.log(typeof {}); // object
      console.log(typeof undefined); // undefined
      console.log(typeof null); // object
      // 其中数组、对象、null都会被判断为object，其他判断都正确

      // 2. instanceof 只能判断引用类型
      console.log(2 instanceof Number); // false
      console.log(true instanceof Boolean); // false
      console.log("str" instanceof String); // false

      console.log([] instanceof Array); // true
      console.log(function () {} instanceof Function); // true
      console.log({} instanceof Object); // true

      // 3. Object.prototype.toString.call()
      // Object.prototype.toString.call(obj).slice(8,-1) === 'Array';
      var a = Object.prototype.toString;
      console.log(a.call(2));
      console.log(a.call(true));
      console.log(a.call("str"));
      console.log(a.call([]));
      console.log(a.call(function () {}));
      console.log(a.call({}));
      console.log(a.call(undefined));
      console.log(a.call(null));

      // 如何判断是数组
      Array.isArray(arr); // true
      arr.__proto__ === Array.prototype; // true
      arr instanceof Array; // true
      Object.prototype.toString.call(arr); // "[object Array]"
    </script>
  </body>
</html>
